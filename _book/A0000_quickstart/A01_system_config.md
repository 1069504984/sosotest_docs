# 后台配置

django、master、slave服务都启动后进入地址 ```http://127.0.0.1/myadmin```<br>
系统初始化会加入默认最高权限管理员，默认用户名admin 密码123456<br>
登录后进入后台首页，进入后首先修改默认密码。修改方式：<br>
登录成功后，点击右上角头像，再点击修改密码即可。

![图片](/image/接口测试平台后台首页.png)

服务刚部署完，没有任何用户和必要数据。<br>
第一步，创建用户。（有了用户才能去登录平台进行测试）<br>
第二步，配置业务线、模块、请求来源。（这些是用例的基础信息，用于分类和查询）<br>
第三步，配置必要的数据服务。（针对各公司自己的测试环境使用了几套数据库而定，最少要有一套数据服务）<br>

## 创建用户

进入 **用户小组管理 -> 用户管理** 中添加用户：

![图片](/image/接口测试平台后台使用用户管理页面.png)

点击添加用户,录入用户信息：

![图片](/image/接口测试平台后台使用用户添加页面.png)

保存后即可登录测试平台前台 http://127.0.0.1/

## 添加业务线

进入 **平台配置管理 -> 业务线管理** 中添加业务线<br>
业务线这个名称可以通过配置文件中的一级菜单名称配置，可以配置为项目等，只要符合公司的分级要求即可。<br>
不影响用例执行，只作为筛选和分类条件。以下统称业务线<br>

![图片](/image/接口测试平台后台使用添加业务线.png)

## 添加模块

进入 **平台配置管理 -> 模块管理** 中添加模块
业务线这个名称可以通过配置文件中的二级菜单名称配置，可以配置为任何字符，符合公司分级要求即可。<br>
不影响用例执行，只作为筛选和分类条件。以下统称模块<br>

![图片](/image/接口测试平台后台使用添加模块.png)

## 关联业务线模块

因多个模块可属于同一个业务线，所以将业务线与模块关联。<br>
用户使用时，如果选择了业务线，那么模块中只显示业务线相关的模块，所以必须做关联。<br>

![图片](/image/接口测试平台后台使用业务线模块关联.png)

## 添加来源

接口来源记录，用于分类，进入 **平台配置管理 -> 来源管理** 添加

![图片](/image/接口测试平台后台使用来源管理.png)

## 添加数据服务

数据服务器为开发的数据库、redis缓存数据库、mongodb等所在的服务器配置。<br>
可不写数据，但一定要添加数据服务，创建环境时，是需要有对应数据服务的。<br>
*注意：有且至少要有1个数据服务。<br>
*注意：目前只支持mysql数据库配置和redis配置。<br>
<br>
添加数据服务时，配置json格式如下：<br>
```python
{
    "DB": {
        "default": {
            "comment": "",
            "host": "",
            "port": "",
            "username": "",
            "password": ""
        }
    },
    "REDIS": {
        "default": {
            "comment": "",
            "host": "",
            "port": "",
            "password": ""
        }
    },
  "MONGO": {
    "default": {
      "comment": "默认mongodb配置",
      "host": "",
      "port": ""
    }
  }
}
```
字段解释说明：<br>
一级key（数据类型）：<br>
DB: mysql数据库配置。<br>
REDIS: redis配置。<br>
二级key（数据service的key）：<br>
default: 默认服务，在关键字调用时可不填service key。<br>
test: test服务的service key，在关键字调用时service要写test。(这个字段可随便写，调用时写对即可)<br>
三级key（具体数据服务的配置信息）：<br>
comment: 备注信息，会显示给用户看。<br>
host: 主机，会显示给用户看。<br>
port: 端口，会显示给用户看。<br>
username: 用户名，不会显示给用户看。<br>
password: 密码，不会显示给用户看。<br>

![图片](/image/接口测试平台后台使用数据服务器管理.png)

## 修改执行服务最大进程数

进入 **平台配置管理 -> 执行服务管理** 中修改slave最大可执行进程数：

![图片](/image/接口测试平台后台使用执行服务管理页面.png)

编辑slave的信息，修改 **服务最大进程数(任务)** 、 **服务最大进程数(调试)** 的数量，根据服务器配置，
建议8G内存、4核CPU的服务器进程数量设置为30左右，并发执行任务为最大进程数无问题再加大数量

![图片](/image/接口测试平台后台执行服务编辑页面.png)






